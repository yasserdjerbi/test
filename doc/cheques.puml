@startuml

' Cheques de terceros, en desarrollo...
'        ('draft', 'Draft'),
'        ('holding', 'Holding'),
'        ('deposited', 'Deposited'), -------------
'        ('selled', 'Selled'),      ----------------
'        ('delivered', 'Delivered'), [Endosado]
'        ('transfered', 'Transfered'),
'        ('reclaimed', 'Reclaimed'), ------------
'        ('withdrawed', 'Withdrawed'),
'        ('handed', 'Handed'),
'        ('rejected', 'Rejected'), --------------
'        ('debited', 'Debited'),
'        ('returned', 'Returned'), --------------
'        ('changed', 'Changed'),
'        ('cancel', 'Cancel'),

'        'holding':   ['draft', 'deposited', 'selled', 'delivered', 'transfered'],
'        'delivered': ['holding'],
'        'deposited': ['holding', 'rejected'],
'        'selled':    ['holding'],
'        'handed':    ['draft'],
'        'transfered': ['holding'],
'        'withdrawed': ['draft'],
'        'rejected':  ['delivered', 'deposited', 'selled', 'handed'],
'        'debited':   ['handed'],
'        'returned':  ['handed', 'holding'],
'        'changed':   ['handed', 'holding'],
'        'cancel':    ['draft'],
'        'reclaimed': ['rejected'],

note "Diagrama de estados de Cheques" as N1

EnMano: El cheque se recibió\ny esta en cartera
Devuelto : [Returned] El cheque se devolvió al \ncliente y se generó una\nfactura en borrador
Depositado: [Deposited] El cheque se\ndepositó en banco
Rechazado: [Rejected] El banco rechazo el cheque ...
Vendido: [Selled] El cheque se vendió y se\ncobró, el dinero fue a una\ncuenta de efectivo
RechazoVenta: Movimiento de Cash a cuenta de rechazo,\nSe rechazo la venta del cheque
Reclamado: [Reclaimed] Se genera una factura en borrador

[*] --> EnMano : cobrar cheque con\nrecibo de cliente
EnMano --> Depositado : Transferir a\ncuenta de banco
EnMano --> Vendido: Transferir a cuenta\nde efectivo
EnMano --> Devuelto: Devolver al\ncliente
Depositado --> Rechazado : Rechazo\ndel banco
Devuelto --> [*]
Vendido --> RechazoVenta : Se rechaza la venta
RechazoVenta --> Reclamado: Se reclama el cheque

@enduml
